### **Visualizaci칩n de Datos con Streamlit**

En este cap칤tulo, exploraremos c칩mo usar **Streamlit** para crear visualizaciones de datos interactivas en nuestras aplicaciones web. Streamlit se integra f치cilmente con bibliotecas populares de visualizaci칩n en Python, como **Matplotlib**, **Seaborn**, **Plotly** y **Altair**. Vamos a ver ejemplos de cada una y culminaremos con un ejemplo robusto que combine varias de estas caracter칤sticas, incluyendo filtros e inputs.

---

### **1. Visualizaciones B치sicas con Streamlit**

#### **a. Visualizaci칩n con Matplotlib**

**Matplotlib** es una de las bibliotecas m치s usadas en Python para crear gr치ficos est치ticos, animados e interactivos. Puedes usar `st.pyplot()` para mostrar gr치ficos de Matplotlib en Streamlit.

**Ejemplo: Gr치fico de L칤neas con Matplotlib**

```python
import streamlit as st
import matplotlib.pyplot as plt
import numpy as np

# Datos de ejemplo
x = np.linspace(0, 10, 100)
y = np.sin(x)

# Crear el gr치fico
plt.figure()
plt.plot(x, y, label='Seno')
plt.title('Gr치fico de Seno con Matplotlib')
plt.xlabel('X')
plt.ylabel('Y')
plt.legend()

# Mostrar el gr치fico en Streamlit
st.pyplot(plt)
```

#### **b. Visualizaci칩n con Seaborn**

**Seaborn** es una biblioteca basada en Matplotlib que proporciona una interfaz de alto nivel para dibujar gr치ficos estad칤sticos atractivos y bien definidos.

**Ejemplo: Gr치fico de Barras con Seaborn**

```python
import seaborn as sns
import pandas as pd

# Datos de ejemplo
data = pd.DataFrame({
    'Categoria': ['A', 'B', 'C', 'D'],
    'Valores': [10, 23, 17, 8]
})

# Crear gr치fico de barras
plt.figure()
sns.barplot(x='Categoria', y='Valores', data=data)
plt.title('Gr치fico de Barras con Seaborn')

# Mostrar el gr치fico en Streamlit
st.pyplot(plt)
```

#### **c. Visualizaci칩n con Plotly**

**Plotly** es una biblioteca que permite crear gr치ficos interactivos. Puedes mostrar gr치ficos de Plotly en Streamlit con `st.plotly_chart()`.

**Ejemplo: Gr치fico de Dispersi칩n Interactivo con Plotly**

```python
import plotly.express as px

# Datos de ejemplo
df = pd.DataFrame({
    'x': np.random.randn(100),
    'y': np.random.randn(100),
    'z': np.random.choice(['A', 'B'], 100)
})

# Crear gr치fico de dispersi칩n
fig = px.scatter(df, x='x', y='y', color='z', title='Gr치fico de Dispersi칩n Interactivo con Plotly')

# Mostrar el gr치fico en Streamlit
st.plotly_chart(fig)
```

#### **d. Visualizaci칩n con Altair**

**Altair** es una biblioteca declarativa para gr치ficos estad칤sticos en Python. Es ideal para crear gr치ficos interactivos de manera concisa.

**Ejemplo: Gr치fico de L칤neas con Altair**

```python
import altair as alt

# Datos de ejemplo
df_altair = pd.DataFrame({
    'x': np.linspace(0, 10, 100),
    'y': np.sin(np.linspace(0, 10, 100))
})

# Crear gr치fico de l칤neas
chart = alt.Chart(df_altair).mark_line().encode(
    x='x',
    y='y'
).properties(
    title='Gr치fico de L칤neas con Altair'
)

# Mostrar el gr치fico en Streamlit
st.altair_chart(chart)
```

### **2. Ejemplo Robusto: Dashboard Interactivo con Visualizaciones y Filtros**

Vamos a crear un dashboard interactivo en **Streamlit** que combine varias visualizaciones y filtros para explorar un conjunto de datos.

**Datos de ejemplo:**

Usaremos un conjunto de datos simulado de ventas de productos.

**C칩digo del Dashboard:**

```python
import streamlit as st
import pandas as pd
import numpy as np
import plotly.express as px
import altair as alt


st.set_page_config(
    page_title="US Population Dashboard",
    page_icon="游끡",
    layout="wide",
    initial_sidebar_state="expanded")

alt.themes.enable("dark")

# Crear un DataFrame de ejemplo
data = pd.read_csv('/Users/blanc/ine/python-para-ciencia-de-datos/Curso/6. Dashboards interactivos con Streamlit/data/demo_data.csv')


# T칤tulo del Dashboard
st.title('Dashboard de Ventas Interactivo')

# Filtros en la Barra Lateral
st.sidebar.header('Filtros')
filtro_producto = st.sidebar.multiselect('Selecciona Productos:', data['Producto'].unique())
filtro_region = st.sidebar.multiselect('Selecciona Regi칩n:', data['Region'].unique())
filtro_mes = st.sidebar.multiselect('Selecciona Mes:', data['Mes'].unique())

# Filtrar datos seg칰n selecci칩n
df_filtrado = data.copy()

if filtro_producto:
    df_filtrado = df_filtrado[df_filtrado['Producto'].isin(filtro_producto)]

if filtro_region:
    df_filtrado = df_filtrado[df_filtrado['Region'].isin(filtro_region)]

if filtro_mes:
    df_filtrado = df_filtrado[df_filtrado['Mes'].isin(filtro_mes)]

# Visualizaci칩n 1: Gr치fico de Barras de Ventas por Producto
st.subheader('Ventas por Producto')
fig1 = px.bar(df_filtrado, x='Producto', y='Cantidad', color='Producto', title='Total de Ventas por Producto')
st.plotly_chart(fig1)

# Visualizaci칩n 2: Gr치fico de Dispersi칩n de Precio vs Cantidad
st.subheader('Relaci칩n entre Precio y Cantidad Vendida')
fig2 = px.scatter(df_filtrado, x='Precio', y='Cantidad', color='Producto', title='Precio vs Cantidad Vendida')
st.plotly_chart(fig2)

# Visualizaci칩n 3: Gr치fico de L칤neas de Ventas por Mes
st.subheader('Tendencias de Ventas por Mes')
fig3 = px.line(df_filtrado, x='Mes', y='Cantidad', color='Producto', title='Ventas por Mes')
st.plotly_chart(fig3)

# Mostrar datos filtrados
st.subheader('Datos Filtrados')
st.write(df_filtrado)
```

### **3. Ejecuci칩n del Dashboard**

Para ejecutar esta aplicaci칩n, guarda el c칩digo en un archivo llamado `dashboard.py` y ejecuta:

```bash
streamlit run dashboard.py
```

### **Conclusi칩n**

Este cap칤tulo ha demostrado c칩mo utilizar **Streamlit** para crear visualizaciones de datos interactivas con varias bibliotecas populares de Python. Hemos visto ejemplos b치sicos y culminado con un dashboard robusto que combina filtros, entradas del usuario y visualizaciones din치micas, lo que permite a los usuarios explorar los datos de manera interactiva y obtener insights valiosos.